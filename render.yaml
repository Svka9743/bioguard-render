services:
  - type: web
    name: bioguard-detector
    env: python
    plan: free
    buildCommand: pip install -r detector_service/requirements.txt
    startCommand: gunicorn detector_service.app:app --workers 1 --timeout 120
    rootDir: .

  - type: web
    name: bioguard-ingest
    env: python
    plan: free
    buildCommand: pip install -r data_pipeline/requirements.txt
    startCommand: python data_pipeline/ingest_server.py
    rootDir: .

  - type: web
    name: bioguard-automation
    env: python
    plan: free
    buildCommand: pip install -r automations/requirements.txt
    startCommand: python automations/block_service.py
    rootDir: .
